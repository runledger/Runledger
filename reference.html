<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RunLedger Reference | CLI and Config</title>
    <meta name="description" content="CLI commands, suite and case config, and protocol message reference for RunLedger.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Icons (Pinned Version) -->
    <script src="https://unpkg.com/lucide@0.469.0/dist/umd/lucide.min.js" defer></script>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        bg: '#020408',
                        card: '#0A0C12',
                        border: '#1E2230',
                        borderHover: '#30364A',
                        primary: '#3B82F6',
                        primaryGlow: 'rgba(59, 130, 246, 0.5)',
                        accent: '#06B6D4',
                        textMain: '#F8FAFC',
                        textMuted: '#94A3B8',
                        codeBg: '#0D1117'
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace']
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.8s ease-out forwards'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #020408;
            color: #F8FAFC;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        .glass-panel {
            background: rgba(10, 12, 18, 0.9);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .feature-card {
            background: #0A0C12;
            border: 1px solid #1E2230;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            border-color: #3B82F6;
            transform: translateY(-4px);
            box-shadow: 0 10px 40px -10px rgba(59, 130, 246, 0.15);
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #020408; }
        ::-webkit-scrollbar-thumb { background: #1E2230; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #3B82F6; }
    </style>
</head>
<body class="relative">

    <div class="absolute -top-40 right-0 w-[500px] h-[500px] bg-gradient-to-bl from-primary/20 via-transparent to-transparent blur-3xl opacity-60 pointer-events-none"></div>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 glass-panel h-16">
        <div class="max-w-7xl mx-auto px-6 h-full flex items-center justify-between">
            <a href="index.html" class="flex items-center gap-3">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-blue-700 flex items-center justify-center shadow-[0_0_15px_rgba(59,130,246,0.5)]">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                    </svg>
                </div>
                <span class="font-bold tracking-tight text-white text-lg">RunLedger</span>
            </a>

            <div class="hidden md:flex items-center gap-8">
                <a href="docs.html" class="text-sm font-medium text-textMuted hover:text-white transition-colors">Docs</a>
                <a href="reference.html" class="text-sm font-medium text-white">Reference</a>
                <a href="integrations.html" class="text-sm font-medium text-textMuted hover:text-white transition-colors">Integrations</a>
                <a href="pricing.html" class="text-sm font-medium text-textMuted hover:text-white transition-colors">Pricing</a>
                <a href="changelog.html" class="text-sm font-medium text-textMuted hover:text-white transition-colors">Changelog</a>
            </div>

            <div class="flex items-center gap-4">
                <a href="community.html" class="hidden md:block text-sm font-medium text-textMuted hover:text-white transition-colors">Community</a>
                <a href="docs.html#quickstart" class="px-4 py-2 bg-white text-bg font-semibold text-sm rounded-md hover:bg-gray-200 transition-colors shadow-lg shadow-white/10">
                    Get Started
                </a>
                <button id="mobile-menu-btn" class="md:hidden text-textMuted hover:text-white focus:outline-none" aria-label="Toggle menu">
                    <i data-lucide="menu" class="w-6 h-6"></i>
                </button>
            </div>
        </div>

        <div id="mobile-menu" class="hidden md:hidden absolute top-16 left-0 w-full bg-[#0A0C12] border-b border-white/5 py-4 px-6 flex flex-col gap-4 shadow-2xl">
            <a href="docs.html" class="text-sm font-medium text-textMuted hover:text-white transition-colors">Docs</a>
            <a href="reference.html" class="text-sm font-medium text-textMuted hover:text-white transition-colors">Reference</a>
            <a href="integrations.html" class="text-sm font-medium text-textMuted hover:text-white transition-colors">Integrations</a>
            <a href="pricing.html" class="text-sm font-medium text-textMuted hover:text-white transition-colors">Pricing</a>
            <a href="changelog.html" class="text-sm font-medium text-textMuted hover:text-white transition-colors">Changelog</a>
            <hr class="border-white/5">
            <a href="community.html" class="text-sm font-medium text-textMuted hover:text-white transition-colors">Community</a>
        </div>
    </nav>

    <main class="relative z-10 pt-28 pb-24">
        <section class="max-w-6xl mx-auto px-6 mb-16">
            <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-primary/20 bg-primary/5 mb-6 animate-fade-in">
                <span class="w-2 h-2 rounded-full bg-primary animate-pulse"></span>
                <span class="text-xs font-semibold text-primary tracking-wide">REFERENCE</span>
            </div>
            <h1 class="text-4xl md:text-6xl font-bold text-white tracking-tight mb-6">CLI, config, and protocol reference.</h1>
            <p class="text-lg text-textMuted leading-relaxed max-w-3xl">Every command, every field, and every message type your agent needs to speak in production.</p>
        </section>

        <section id="cli" class="max-w-6xl mx-auto px-6 mb-20">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-2xl font-bold text-white">CLI commands</h2>
                <a href="docs.html#quickstart" class="text-sm text-textMuted hover:text-white transition-colors">Quickstart</a>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="feature-card p-6 rounded-xl">
                    <h3 class="text-lg font-semibold text-white mb-2">run</h3>
                    <p class="text-sm text-textMuted mb-4">Execute a suite in replay or record mode and write artifacts.</p>
                    <pre class="font-mono text-xs text-textMain leading-6 whitespace-pre-wrap">runledger run ./evals --mode replay
runledger run ./evals --mode record --case t1</pre>
                </div>
                <div class="feature-card p-6 rounded-xl">
                    <h3 class="text-lg font-semibold text-white mb-2">diff</h3>
                    <p class="text-sm text-textMuted mb-4">Compare a run directory against a baseline file.</p>
                    <pre class="font-mono text-xs text-textMain leading-6 whitespace-pre-wrap">runledger diff --baseline baselines/support.json --run runledger_out/demo/2025-01-01</pre>
                </div>
                <div class="feature-card p-6 rounded-xl">
                    <h3 class="text-lg font-semibold text-white mb-2">baseline promote</h3>
                    <p class="text-sm text-textMuted mb-4">Promote a successful run to a baseline file for regression gates.</p>
                    <pre class="font-mono text-xs text-textMain leading-6 whitespace-pre-wrap">runledger baseline promote --from runledger_out/demo/2025-01-01 --to baselines/demo.json</pre>
                </div>
                <div class="feature-card p-6 rounded-xl">
                    <h3 class="text-lg font-semibold text-white mb-2">init</h3>
                    <p class="text-sm text-textMuted mb-4">Create a demo agent, eval suite, and example cassette.</p>
                    <pre class="font-mono text-xs text-textMain leading-6 whitespace-pre-wrap">runledger init</pre>
                </div>
            </div>
        </section>

        <section id="suite-config" class="max-w-6xl mx-auto px-6 mb-20">
            <h2 class="text-2xl font-bold text-white mb-6">suite.yaml</h2>
            <div class="grid lg:grid-cols-[1fr_0.9fr] gap-8">
                <div class="bg-card border border-border rounded-xl p-6">
                    <pre class="font-mono text-xs text-textMain leading-6 whitespace-pre-wrap">suite_name: support-triage
agent_command: ["python", "agent.py"]
mode: replay
cases_path: cases
tool_registry:
  - search_docs
  - create_issue
assertions:
  - type: json_schema
    schema_path: schema.json
budgets:
  max_wall_ms: 20000
  max_tool_calls: 10
baseline_path: baselines/support-triage.json</pre>
                </div>
                <div class="space-y-4 text-sm text-textMuted">
                    <p><span class="text-white font-semibold">suite_name</span> is the stable CI identifier.</p>
                    <p><span class="text-white font-semibold">agent_command</span> launches your agent as a subprocess.</p>
                    <p><span class="text-white font-semibold">tool_registry</span> restricts which tools can be invoked.</p>
                    <p><span class="text-white font-semibold">assertions</span> and <span class="text-white font-semibold">budgets</span> apply to all cases by default.</p>
                    <p><span class="text-white font-semibold">baseline_path</span> enables regression gating in CI.</p>
                </div>
            </div>
        </section>

        <section id="case-config" class="max-w-6xl mx-auto px-6 mb-20">
            <h2 class="text-2xl font-bold text-white mb-6">cases/*.yaml</h2>
            <div class="grid lg:grid-cols-[1fr_0.9fr] gap-8">
                <div class="bg-card border border-border rounded-xl p-6">
                    <pre class="font-mono text-xs text-textMain leading-6 whitespace-pre-wrap">id: t1
description: "triage a login ticket"
input:
  ticket: "User cannot login"
  context:
    plan: "pro"
cassette: cassettes/t1.jsonl
assertions:
  - type: required_fields
    fields: ["category", "reply"]
budgets:
  max_wall_ms: 5000</pre>
                </div>
                <div class="space-y-4 text-sm text-textMuted">
                    <p><span class="text-white font-semibold">input</span> is forwarded verbatim to the agent.</p>
                    <p><span class="text-white font-semibold">cassette</span> is required for replay mode.</p>
                    <p><span class="text-white font-semibold">assertions</span> override or extend suite defaults.</p>
                    <p><span class="text-white font-semibold">budgets</span> can be customized per case.</p>
                </div>
            </div>
        </section>

        <section id="protocol" class="max-w-6xl mx-auto px-6">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-white">Protocol messages</h2>
                <span class="text-xs text-textMuted">stdin/stdout JSONL</span>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-card border border-border rounded-xl p-6">
                    <div class="text-xs font-mono text-textMuted mb-4">Runner to Agent</div>
                    <pre class="font-mono text-xs text-textMain leading-6 whitespace-pre-wrap">{ "type": "task_start", "task_id": "t1", "input": { "ticket": "..." } }
{ "type": "tool_result", "call_id": "c1", "ok": true, "result": { "hits": [] } }</pre>
                </div>
                <div class="bg-card border border-border rounded-xl p-6">
                    <div class="text-xs font-mono text-textMuted mb-4">Agent to Runner</div>
                    <pre class="font-mono text-xs text-textMain leading-6 whitespace-pre-wrap">{ "type": "tool_call", "name": "search_docs", "call_id": "c1", "args": { "q": "..." } }
{ "type": "final_output", "output": { "category": "billing", "reply": "..." } }</pre>
                </div>
            </div>
        </section>
    </main>

    <footer class="border-t border-border bg-card">
        <div class="max-w-7xl mx-auto px-6 py-12 grid gap-10 md:grid-cols-[1.2fr_1fr_1fr_1fr_1fr]">
            <div class="space-y-4">
                <a href="index.html" class="flex items-center gap-2">
                    <div class="w-7 h-7 rounded bg-primary flex items-center justify-center shadow-lg shadow-primary/20">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                    </div>
                    <span class="font-bold text-white text-sm">RunLedger</span>
                </a>
                <p class="text-sm text-textMuted">Deterministic evals and replayable tool calls for CI-grade agents.</p>
                <div class="inline-flex items-center gap-2 text-[10px] font-mono text-emerald-500 bg-emerald-500/10 px-2 py-1 rounded border border-emerald-500/20">
                    <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></div>
                    ALL SYSTEMS OPERATIONAL
                </div>
            </div>

            <div>
                <h3 class="text-sm font-semibold text-white mb-3">Product</h3>
                <ul class="space-y-2 text-sm text-textMuted">
                    <li><a href="index.html" class="hover:text-white transition-colors">Overview</a></li>
                    <li><a href="index.html#features" class="hover:text-white transition-colors">Features</a></li>
                    <li><a href="integrations.html" class="hover:text-white transition-colors">Integrations</a></li>
                    <li><a href="pricing.html" class="hover:text-white transition-colors">Pricing</a></li>
                </ul>
            </div>

            <div>
                <h3 class="text-sm font-semibold text-white mb-3">Docs</h3>
                <ul class="space-y-2 text-sm text-textMuted">
                    <li><a href="docs.html" class="hover:text-white transition-colors">Documentation</a></li>
                    <li><a href="docs.html#quickstart" class="hover:text-white transition-colors">Quickstart</a></li>
                    <li><a href="reference.html" class="hover:text-white transition-colors">CLI Reference</a></li>
                    <li><a href="reference.html#protocol" class="hover:text-white transition-colors">Protocol</a></li>
                </ul>
            </div>

            <div>
                <h3 class="text-sm font-semibold text-white mb-3">Community</h3>
                <ul class="space-y-2 text-sm text-textMuted">
                    <li><a href="community.html" class="hover:text-white transition-colors">Community</a></li>
                    <li><a href="community.html#contributing" class="hover:text-white transition-colors">Contributing</a></li>
                    <li><a href="community.html#support" class="hover:text-white transition-colors">Support</a></li>
                    <li><a href="changelog.html" class="hover:text-white transition-colors">Changelog</a></li>
                </ul>
            </div>

            <div>
                <h3 class="text-sm font-semibold text-white mb-3">Company</h3>
                <ul class="space-y-2 text-sm text-textMuted">
                    <li><a href="about.html" class="hover:text-white transition-colors">About</a></li>
                    <li><a href="about.html#mission" class="hover:text-white transition-colors">Mission</a></li>
                    <li><a href="about.html#principles" class="hover:text-white transition-colors">Principles</a></li>
                    <li><a href="security.html" class="hover:text-white transition-colors">Security</a></li>
                </ul>
            </div>
        </div>

        <div class="max-w-7xl mx-auto px-6 py-6 border-t border-border flex flex-col md:flex-row items-center justify-between gap-4 text-xs text-textMuted">
            <span>(c) 2025 RunLedger. MIT Licensed.</span>
            <div class="flex items-center gap-6">
                <a href="security.html" class="hover:text-white transition-colors">Security</a>
                <a href="community.html#contact" class="hover:text-white transition-colors">Contact</a>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const btn = document.getElementById('mobile-menu-btn');
            const menu = document.getElementById('mobile-menu');

            if (btn && menu) {
                btn.addEventListener('click', () => {
                    menu.classList.toggle('hidden');
                });
            }

            if (window.lucide) {
                lucide.createIcons();
            }
        });
    </script>
</body>
</html>
